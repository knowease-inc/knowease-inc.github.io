import{m as e,u as t}from"./Dr2q-Sm3.js";import{u as a}from"./dubiUfbK.js";import{s as l,au as o,h as u,p as s,R as i,a8 as n,ah as r,H as v,B as p,at as y,b2 as d,X as c,a_ as m,br as f,an as g,x as h,y as x,z as I,$ as b,b as S}from"./CcJJNQX4.js";const $=Symbol.for("vuetify:layout"),w=Symbol.for("vuetify:layout-item"),R=l({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),z=l({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function C(e){const t=o($);if(!t)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${c()}`,l=r("useLayoutItem");y(w,{id:a});const s=v(!1);m((()=>s.value=!0)),f((()=>s.value=!1));const{layoutItemStyles:i,layoutItemScrimStyles:n}=t.register(l,{...e,active:u((()=>!s.value&&e.active.value)),id:a});return g((()=>t.unregister(a))),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:n}}function L(e){const t=o($,null),l=u((()=>t?t.rootZIndex.value-100:1e3)),c=s([]),m=i(new Map),f=i(new Map),g=i(new Map),h=i(new Map),x=i(new Map),{resizeRef:I,contentRect:b}=a(),S=u((()=>{const t=new Map,a=e.overlaps??[];for(const e of a.filter((e=>e.includes(":")))){const[a,l]=e.split(":");if(!c.value.includes(a)||!c.value.includes(l))continue;const o=m.get(a),u=m.get(l),s=f.get(a),i=f.get(l);o&&u&&s&&i&&(t.set(l,{position:o.value,amount:parseInt(s.value,10)}),t.set(a,{position:u.value,amount:-parseInt(i.value,10)}))}return t})),R=u((()=>{const e=[...new Set([...g.values()].map((e=>e.value)))].sort(((e,t)=>e-t)),t=[];for(const a of e){const e=c.value.filter((e=>{var t;return(null==(t=g.get(e))?void 0:t.value)===a}));t.push(...e)}return((e,t,a,l)=>{let o={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...o}}];for(const s of e){const e=t.get(s),i=a.get(s),n=l.get(s);if(!e||!i||!n)continue;const r={...o,[e.value]:parseInt(o[e.value],10)+(n.value?parseInt(i.value,10):0)};u.push({id:s,layer:r}),o=r}return u})(t,m,f,h)})),z=u((()=>!Array.from(x.values()).some((e=>e.value)))),C=u((()=>R.value[R.value.length-1].layer)),L=u((()=>({"--v-layout-left":n(C.value.left),"--v-layout-right":n(C.value.right),"--v-layout-top":n(C.value.top),"--v-layout-bottom":n(C.value.bottom),...z.value?void 0:{transition:"none"}}))),M=u((()=>R.value.slice(1).map(((e,t)=>{let{id:a}=e;const{layer:l}=R.value[t],o=f.get(a),u=m.get(a);return{id:a,...l,size:Number(o.value),position:u.value}})))),V=e=>M.value.find((t=>t.id===e)),j=r("createLayout"),A=v(!1);p((()=>{A.value=!0})),y($,{register:(e,t)=>{let{id:a,order:o,position:s,layoutSize:i,elementSize:n,active:r,disableTransitions:v,absolute:p}=t;g.set(a,o),m.set(a,s),f.set(a,i),h.set(a,r),v&&x.set(a,v);const y=d(w,null==j?void 0:j.vnode).indexOf(e);y>-1?c.value.splice(y,0,a):c.value.push(a);const I=u((()=>M.value.findIndex((e=>e.id===a)))),b=u((()=>l.value+2*R.value.length-2*I.value));return{layoutItemStyles:u((()=>{const e="left"===s.value||"right"===s.value,t="right"===s.value,o="bottom"===s.value,u=n.value??i.value,v=0===u?"%":"px",y={[s.value]:0,zIndex:b.value,transform:`translate${e?"X":"Y"}(${(r.value?0:-(0===u?100:u))*(t||o?-1:1)}${v})`,position:p.value||1e3!==l.value?"absolute":"fixed",...z.value?void 0:{transition:"none"}};if(!A.value)return y;const d=M.value[I.value];if(!d)throw new Error(`[Vuetify] Could not find layout item "${a}"`);const c=S.value.get(a);return c&&(d[c.position]+=c.amount),{...y,height:e?`calc(100% - ${d.top}px - ${d.bottom}px)`:n.value?`${n.value}px`:void 0,left:t?void 0:`${d.left}px`,right:t?`${d.right}px`:void 0,top:"bottom"!==s.value?`${d.top}px`:void 0,bottom:"top"!==s.value?`${d.bottom}px`:void 0,width:e?n.value?`${n.value}px`:void 0:`calc(100% - ${d.left}px - ${d.right}px)`}})),layoutItemScrimStyles:u((()=>({zIndex:b.value-1}))),zIndex:b}},unregister:e=>{g.delete(e),m.delete(e),f.delete(e),h.delete(e),x.delete(e),c.value=c.value.filter((t=>t!==e))},mainRect:C,mainStyles:L,getLayoutItem:V,items:M,layoutRect:b,rootZIndex:l});return{layoutClasses:u((()=>["v-layout",{"v-layout--full-height":e.fullHeight}])),layoutStyles:u((()=>({zIndex:t?l.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}))),getLayoutItem:V,items:M,layoutRect:b,layoutRef:I}}const M=l({...e(),...R({fullHeight:!0}),...h()},"VApp"),V=x()({name:"VApp",props:M(),setup(e,a){let{slots:l}=a;const o=I(e),{layoutClasses:u,getLayoutItem:s,items:i,layoutRef:n}=L(e),{rtlClasses:r}=b();return t((()=>{var t;return S("div",{ref:n,class:["v-application",o.themeClasses.value,u.value,r.value,e.class],style:[e.style]},[S("div",{class:"v-application__wrap"},[null==(t=l.default)?void 0:t.call(l)])])})),{getLayoutItem:s,items:i,theme:o}}});export{V,z as m,C as u};
