import{f as e,e as l,g as a,h as t,i as n}from"./C_4wYOXS.js";import{m as o,s as u,D as s,b as i,F as r,E as c,e as d,G as v,H as p,y as m,h as f,I as h,J as g,K as y,L as V,M as w,N as b,O as x,x as _,P as k,Q as I,B as S,R as T,S as A,T as C,U as P,V as D,d as B,W as R,X as F,Y as j,_ as E,u as M,o as U,i as q,w as H,j as O,a as $,t as z,z as N}from"./3OHx2_pV.js";import{m as K,e as L,b as W,f as X,V as Q,a as G,c as J,d as Y,u as Z}from"./Ddf5n-_l.js";import{g as ee,n as le,t as ae,e as te,v as ne,w as oe,V as ue,a as se,b as ie,c as re}from"./Dl6ZtmW5.js";import{g as ce,m as de,V as ve,u as pe,a as me,b as fe,c as he}from"./CxhIPtXK.js";import{m as ge,u as ye}from"./CiKh7JD9.js";import{u as Ve}from"./vyV_nFr8.js";import{V as we}from"./CKw1li0x.js";import{V as be}from"./BPiRc1LP.js";import"./DKRDv-Lg.js";const xe=o({renderless:Boolean,...ge()},"VVirtualScrollItem"),_e=u()({name:"VVirtualScrollItem",inheritAttrs:!1,props:xe(),emits:{"update:height":e=>!0},setup(e,l){let{attrs:a,emit:t,slots:n}=l;const{resizeRef:o,contentRect:u}=Ve(void 0,"border");s((()=>{var e;return null==(e=u.value)?void 0:e.height}),(e=>{null!=e&&t("update:height",e)})),ye((()=>{var l,t;return e.renderless?i(r,null,[null==(l=n.default)?void 0:l.call(n,{itemRef:o})]):i("div",c({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},a),[null==(t=n.default)?void 0:t.call(n)])}))}}),ke=o({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");const Ie=o({items:{type:Array,default:()=>[]},renderless:Boolean,...ke(),...ge(),...ee()},"VVirtualScroll"),Se=u()({name:"VVirtualScroll",props:Ie(),setup(e,l){let{slots:a}=l;const t=x("VVirtualScroll"),{dimensionStyles:n}=le(e),{calculateVisibleItems:o,containerRef:u,markerRef:c,handleScroll:T,handleScrollend:A,handleItemResize:C,scrollToIndex:P,paddingTop:D,paddingBottom:B,computedItems:R}=function(e,l){const a=d(),t=v(0);p((()=>{t.value=parseFloat(e.itemHeight||0)}));const n=v(0),o=v(Math.ceil((parseInt(e.height)||a.height.value)/(t.value||16))||1),u=v(0),i=v(0),r=m(),c=m();let x=0;const{resizeRef:_,contentRect:k}=Ve();p((()=>{_.value=r.value}));const I=f((()=>{var l;return r.value===document.documentElement?a.height.value:(null==(l=k.value)?void 0:l.height)||parseInt(e.height)||0})),S=f((()=>!!(r.value&&c.value&&I.value&&t.value)));let T=Array.from({length:l.value.length}),A=Array.from({length:l.value.length});const C=v(0);let P=-1;const D=V((()=>{const e=performance.now();A[0]=0;const a=l.value.length;for(let l=1;l<=a-1;l++)A[l]=(A[l-1]||0)+(T[l-1]||t.value);C.value=Math.max(C.value,performance.now()-e)}),C),B=s(S,(e=>{e&&(B(),x=c.value.offsetTop,D.immediate(),O(),~P&&w((()=>{b&&window.requestAnimationFrame((()=>{z(P),P=-1}))})))}));function R(e){return e=g(e,0,l.value.length-1),A[e]||0}function F(e){return function(e,l){let a=e.length-1,t=0,n=0,o=null,u=-1;if(e[a]<l)return a;for(;t<=a;)if(n=t+a>>1,o=e[n],o>l)a=n-1;else{if(!(o<l))return o===l?n:t;u=n,t=n+1}return u}(A,e)}h((()=>{D.clear()}));let j=0,E=0,M=0;s(I,((e,l)=>{l&&(O(),e<l&&requestAnimationFrame((()=>{E=0,O()})))}));let U=-1;function q(){r.value&&c.value&&(E=0,M=0,window.clearTimeout(U),O())}let H=-1;function O(){cancelAnimationFrame(H),H=requestAnimationFrame($)}function $(){if(!r.value||!I.value)return;const e=j-x,a=Math.sign(E),t=Math.max(0,e-100),s=g(F(t),0,l.value.length),c=e+I.value+100,d=g(F(c)+1,s+1,l.value.length);if((-1!==a||s<n.value)&&(1!==a||d>o.value)){const e=R(n.value)-R(s),a=R(d)-R(o.value);Math.max(e,a)>100?(n.value=s,o.value=d):(s<=0&&(n.value=s),d>=l.value.length&&(o.value=d))}u.value=R(n.value),i.value=R(l.value.length)-R(o.value)}function z(e){const l=R(e);!r.value||e&&!l?P=e:r.value.scrollTop=l}const N=f((()=>l.value.slice(n.value,o.value).map(((e,l)=>({raw:e,index:l+n.value,key:y(e)&&"value"in e?e.value:l+n.value})))));return s(l,(()=>{T=Array.from({length:l.value.length}),A=Array.from({length:l.value.length}),D.immediate(),O()}),{deep:!0}),{calculateVisibleItems:O,containerRef:r,markerRef:c,computedItems:N,paddingTop:u,paddingBottom:i,scrollToIndex:z,handleScroll:function(){if(!r.value||!c.value)return;const e=r.value.scrollTop,l=performance.now();l-M>500?(E=Math.sign(e-j),x=c.value.offsetTop):E=e-j,j=e,M=l,window.clearTimeout(U),U=window.setTimeout(q,500),O()},handleScrollend:q,handleItemResize:function(e,l){const a=T[e],n=t.value;t.value=n?Math.min(t.value,l):l,a===l&&n===t.value||(T[e]=l,D())}}}(e,_(e,"items"));return k((()=>e.renderless),(()=>{function e(){var e,l;const a=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[a]("scroll",T,{passive:!0}),document[a]("scrollend",A)):(null==(e=u.value)||e[a]("scroll",T,{passive:!0}),null==(l=u.value)||l[a]("scrollend",A))}S((()=>{u.value=ce(t.vnode.el,!0),e(!0)})),h(e)})),ye((()=>{const l=R.value.map((l=>i(_e,{key:l.key,renderless:e.renderless,"onUpdate:height":e=>C(l.index,e)},{default:e=>{var t;return null==(t=a.default)?void 0:t.call(a,{item:l.raw,index:l.index,...e})}})));return e.renderless?i(r,null,[i("div",{ref:c,class:"v-virtual-scroll__spacer",style:{paddingTop:I(D.value)}},null),l,i("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:I(B.value)}},null)]):i("div",{ref:u,class:["v-virtual-scroll",e.class],onScrollPassive:T,onScrollend:A,style:[n.value,e.style]},[i("div",{ref:c,class:"v-virtual-scroll__container",style:{paddingTop:I(D.value),paddingBottom:I(B.value)}},[l])])})),{calculateVisibleItems:o,scrollToIndex:P}}});function Te(e,l){const a=v(!1);let t;return{onScrollPassive:function(e){cancelAnimationFrame(t),a.value=!0,t=requestAnimationFrame((()=>{t=requestAnimationFrame((()=>{a.value=!1}))}))},onKeydown:async function(t){var n,o;if("Tab"===t.key&&(null==(n=l.value)||n.focus()),!["PageDown","PageUp","Home","End"].includes(t.key))return;const u=null==(o=e.value)?void 0:o.$el;if(!u)return;"Home"!==t.key&&"End"!==t.key||u.scrollTo({top:"Home"===t.key?0:u.scrollHeight,behavior:"smooth"}),await async function(){await new Promise((e=>requestAnimationFrame(e))),await new Promise((e=>requestAnimationFrame(e))),await new Promise((e=>requestAnimationFrame(e))),await new Promise((e=>{if(a.value){const l=s(a,(()=>{l(),e()}))}else e()}))}();const i=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if("PageDown"===t.key||"Home"===t.key){const e=u.getBoundingClientRect().top;for(const l of i)if(l.getBoundingClientRect().top>=e){l.focus();break}}else{const e=u.getBoundingClientRect().bottom;for(const l of[...i].reverse())if(l.getBoundingClientRect().bottom<=e){l.focus();break}}}}}const Ae=o({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:T,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...de({itemChildren:!1})},"Select"),Ce=o({...Ae(),...A(K({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ae({transition:{component:ve}})},"VSelect"),Pe=u()({name:"VSelect",props:Ce(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(l,a){let{slots:t}=a;const{t:n}=C(),o=m(),u=m(),d=m(),p=P(l,"menu"),h=f({get:()=>p.value,set:e=>{var l;p.value&&!e&&(null==(l=u.value)?void 0:l.ΨopenChildren.size)||(p.value=e)}}),{items:g,transformIn:y,transformOut:V}=pe(l),x=P(l,"modelValue",[],(e=>y(null===e?[null]:j(e))),(e=>{const a=V(e);return l.multiple?a:a[0]??null})),_=f((()=>"function"==typeof l.counterValue?l.counterValue(x.value):"number"==typeof l.counterValue?l.counterValue:x.value.length)),k=L(l),I=f((()=>x.value.map((e=>e.value)))),S=v(!1),T=f((()=>h.value?l.closeText:l.openText));let A,E="";const M=f((()=>l.hideSelected?g.value.filter((e=>!x.value.some((a=>l.valueComparator(a,e))))):g.value)),U=f((()=>l.hideNoData&&!M.value.length||k.isReadonly.value||k.isDisabled.value)),q=f((()=>{var e;return{...l.menuProps,activatorProps:{...(null==(e=l.menuProps)?void 0:e.activatorProps)||{},"aria-haspopup":"listbox"}}})),H=m(),O=Te(H,o);function $(e){l.openOnClear&&(h.value=!0)}function z(){U.value||(h.value=!h.value)}function N(e){R(e)&&K(e)}function K(e){var a,t;if(!e.key||k.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(e.key)&&e.preventDefault(),["Enter","ArrowDown"," "].includes(e.key)&&(h.value=!0),["Escape","Tab"].includes(e.key)&&(h.value=!1),"Home"===e.key?null==(a=H.value)||a.focus("first"):"End"===e.key&&(null==(t=H.value)||t.focus("last"));if(l.multiple||!R(e))return;const n=performance.now();n-A>1e3&&(E=""),E+=e.key.toLowerCase(),A=n;const o=g.value.find((e=>e.title.toLowerCase().startsWith(E)));if(void 0!==o){x.value=[o];const e=M.value.indexOf(o);b&&window.requestAnimationFrame((()=>{var l;e>=0&&(null==(l=d.value)||l.scrollToIndex(e))}))}}function G(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.props.disabled)if(l.multiple){const t=x.value.findIndex((a=>l.valueComparator(a.value,e.value))),n=null==a?!~t:a;if(~t){const l=n?[...x.value,e]:[...x.value];l.splice(t,1),x.value=l}else n&&(x.value=[...x.value,e])}else{const l=!1!==a;x.value=l?[e]:[],w((()=>{h.value=!1}))}}function J(e){var l;(null==(l=H.value)?void 0:l.$el.contains(e.relatedTarget))||(h.value=!1)}function Y(){var e;l.eager&&(null==(e=d.value)||e.calculateVisibleItems())}function Z(){var e;S.value&&(null==(e=o.value)||e.focus())}function ee(e){S.value=!0}function le(e){if(null==e)x.value=[];else if(F(o.value,":autofill")||F(o.value,":-webkit-autofill")){const l=g.value.find((l=>l.title===e));l&&G(l)}else o.value&&(o.value.value="")}return s(h,(()=>{if(!l.hideSelected&&h.value&&x.value.length){const e=M.value.findIndex((e=>x.value.some((a=>l.valueComparator(a.value,e.value)))));b&&window.requestAnimationFrame((()=>{var l;e>=0&&(null==(l=d.value)||l.scrollToIndex(e))}))}})),s((()=>l.items),((e,l)=>{h.value||S.value&&!l.length&&e.length&&(h.value=!0)})),ye((()=>{const e=!(!l.chips&&!t.chip),a=!!(!l.hideNoData||M.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),s=x.value.length>0,v=W.filterProps(l),p=s||!S.value&&l.label&&!l.persistentPlaceholder?void 0:l.placeholder;return i(W,c({ref:o},v,{modelValue:x.value.map((e=>e.props.value)).join(", "),"onUpdate:modelValue":le,focused:S.value,"onUpdate:focused":e=>S.value=e,validationValue:x.externalValue,counterValue:_.value,dirty:s,class:["v-select",{"v-select--active-menu":h.value,"v-select--chips":!!l.chips,["v-select--"+(l.multiple?"multiple":"single")]:!0,"v-select--selected":x.value.length,"v-select--selection-slot":!!t.selection},l.class],style:l.style,inputmode:"none",placeholder:p,"onClick:clear":$,"onMousedown:control":z,onBlur:J,onKeydown:K,"aria-label":n(T.value),title:n(T.value)}),{...t,default:()=>i(r,null,[i(me,c({ref:u,modelValue:h.value,"onUpdate:modelValue":e=>h.value=e,activator:"parent",contentClass:"v-select__content",disabled:U.value,eager:l.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:l.transition,onAfterEnter:Y,onAfterLeave:Z},q.value),{default:()=>[a&&i(fe,c({ref:H,selected:I.value,selectStrategy:l.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:N,onFocusin:ee,tabindex:"-1","aria-live":"polite",color:l.itemColor??l.color},O,l.listProps),{default:()=>{var e,a,o;return[null==(e=t["prepend-item"])?void 0:e.call(t),!M.value.length&&!l.hideNoData&&((null==(a=t["no-data"])?void 0:a.call(t))??i(he,{key:"no-data",title:n(l.noDataText)},null)),i(Se,{ref:d,renderless:!0,items:M.value},{default:e=>{var a;let{item:n,index:o,itemRef:u}=e;const s=c(n.props,{ref:u,key:n.value,onClick:()=>G(n,null)});return(null==(a=t.item)?void 0:a.call(t,{item:n,index:o,props:s}))??i(he,c(s,{role:"option"}),{prepend:e=>{let{isSelected:a}=e;return i(r,null,[l.multiple&&!l.hideSelected?i(X,{key:n.value,modelValue:a,ripple:!1,tabindex:"-1"},null):void 0,n.props.prependAvatar&&i(te,{image:n.props.prependAvatar},null),n.props.prependIcon&&i(ne,{icon:n.props.prependIcon},null)])}})}}),null==(o=t["append-item"])?void 0:o.call(t)]}})]}),x.value.map(((a,n)=>{function o(e){e.stopPropagation(),e.preventDefault(),G(a,!1)}const u={"onClick:close":o,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),o(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},s=e?!!t.chip:!!t.selection,r=s?D(e?t.chip({item:a,index:n,props:u}):t.selection({item:a,index:n})):void 0;if(!s||r)return i("div",{key:a.value,class:"v-select__selection"},[e?t.chip?i(oe,{key:"chip-defaults",defaults:{VChip:{closable:l.closableChips,size:"small",text:a.title}}},{default:()=>[r]}):i(Q,c({key:"chip",closable:l.closableChips,size:"small",text:a.title,disabled:a.props.disabled},u),null):r??i("span",{class:"v-select__selection-text"},[a.title,l.multiple&&n<x.value.length-1&&i("span",{class:"v-select__selection-comma"},[B(",")])])])}))]),"append-inner":function(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return i(r,null,[null==(e=t["append-inner"])?void 0:e.call(t,...n),l.menuIcon?i(ne,{class:"v-select__menu-icon",icon:l.menuIcon},null):void 0])}})})),e({isFocused:S,menu:h,select:G},o)}}),De="고객 문의",Be="고객 문의 페이지입니다. 서비스 이용 문제, 신규 기능 건의, 비즈니스 상담 요청 등이 가능합니다.",Re=E({__name:"vocIssueInputForm",setup(e){const o=m(null),u=m(!0),s=m(""),r=m(""),c=m(""),v=m(null),p=m(""),h=m(!1),g=[e=>!!e||"이메일 주소 입력이 필요합니다.",e=>/.+@.+\..+/.test(e)||"이메일 주소를 입력해야 합니다."],y=[e=>!!e||"내용 입력이 필요합니다.",e=>e&&e.length<=1e3||"Question must be less than 1000 characters"],V=[e=>!!e||"이름을 입력해주세요."],w=["서비스 이용 문제","신규 기능 건의","비즈니스 상담"],{width:b}=d(),x=f((()=>b.value>800?800:b.value));M({title:De,meta:[{hid:"description",name:"description",content:Be},{hid:"og:title",property:"og:title",content:De},{hid:"og:description",property:"og:description",content:Be},{hid:"og:url",property:"og:url",content:window.location.href},{hid:"twitter:description",name:"twitter:description",content:Be}]});const _=async()=>{if(o.value.validate(),u.value)try{await k({customer_name:r.value,customer_email:s.value,customer_phone:c.value,content:p.value}),alert(`「${v.value} / ${s.value}」를 이슈로 등록하였습니다.`),location.reload()}catch(e){console.error(e),alert("문제가 발생했습니다. 다시 시도해주세요.")}},k=async(e={})=>{const{customer_name:l,customer_email:a,content:t}=e;try{const e="https://ko.api.researcher.meaniit.com",n=new FormData;n.append("customer_name",l),n.append("customer_email",a),n.append("content",t);const{data:o,error:u}=await Z(`${e}/api/resource/users/inquiry`,{method:"POST",headers:{"x-api-key":"2kamERrKtd78e7iXsTxxP3kdkDteXbAM5uN7rWMV"},body:n},"$MF2izVfDgC");return u.value&&console.error("서버에 데이터 저장 실패:",u.value),o.value}catch(n){console.error("서버 통신 중 오류 발생:",n)}};return(e,d)=>(U(),q(be,{fluid:"",class:"d-flex justify-center mt-10 mx-0 px-0 px-sm-3 pt-16"},{default:H((()=>[i(ue,{flat:"","max-width":"800",class:"d-flex align-center ma-0 pa-0",color:"rgba(0, 0, 0, 0)"},{default:H((()=>[i(ue,{width:O(x),flat:"",variant:"outlined",class:"pa-1 pa-sm-3"},{default:H((()=>[i(se,{class:"d-flex justify-center article-title ma-0"},{default:H((()=>[$("p",null,z(De))])),_:1}),i(ie,{class:"pb-0"},{default:H((()=>[i(G,{ref_key:"form",ref:o,"model-value":"valid","validate-on":"submit"},{default:H((()=>[i(W,{modelValue:O(s),"onUpdate:modelValue":d[0]||(d[0]=e=>N(s)?s.value=e:null),rules:g,label:"E-mail 주소를 입력해주세요.",type:"text","prepend-icon":O(l),density:"compact",class:"mt-2",variant:"underlined","validate-on":"invalid-input"},null,8,["modelValue","prepend-icon"]),i(W,{modelValue:O(r),"onUpdate:modelValue":d[1]||(d[1]=e=>N(r)?r.value=e:null),rules:V,label:"성함을 입력해주세요.",type:"text","prepend-icon":O(a),density:"compact",class:"mt-2",variant:"underlined","validate-on":"invalid-input"},null,8,["modelValue","prepend-icon"]),i(W,{modelValue:O(c),"onUpdate:modelValue":d[2]||(d[2]=e=>N(c)?c.value=e:null),label:"(선택사항)핸드폰 번호를 입력해주세요.",type:"text","prepend-icon":O(t),density:"compact",class:"mt-2",variant:"underlined"},null,8,["modelValue","prepend-icon"]),i(Pe,{modelValue:O(v),"onUpdate:modelValue":d[3]||(d[3]=e=>N(v)?v.value=e:null),items:w,rules:[e=>!!e||"필수 선택 항목입니다."],label:"관련 주제를 선택해주세요.","prepend-icon":O(n),variant:"underlined","validate-on":"submit"},null,8,["modelValue","rules","prepend-icon"]),i(J,{modelValue:O(p),"onUpdate:modelValue":d[4]||(d[4]=e=>N(p)?p.value=e:null),counter:1e3,rules:y,name:"question",label:"문의/건의 내용을 입력해주세요.",hint:"무관한 내용, 타인에 대한 비난/비방/욕설 등이 포함되는 경우 무통보 삭제될 수 있습니다.","auto-grow":"",density:"compact",variant:"underlined","validate-on":"submit"},null,8,["modelValue"]),i(Y,{modelValue:O(h),"onUpdate:modelValue":d[5]||(d[5]=e=>N(h)?h.value=e:null),rules:[e=>!!e||"동의하지 않는 경우 내용이 등록되지 않습니다."],label:"문의 등록 시, 제공하신 이메일 주소와 작성 내용은 서비스 개선 및 연구 목적으로 활용될 수 있습니다.","validate-on":"submit"},null,8,["modelValue","rules"])])),_:1},512)])),_:1}),i(re,{class:"justify-end pt-0"},{default:H((()=>[i(we,{disabled:!O(u),color:"#313de3",variant:"outlined",class:"mr-4",onClick:_},{default:H((()=>d[6]||(d[6]=[B(" 등록 ")]))),_:1},8,["disabled"])])),_:1})])),_:1},8,["width"])])),_:1})])),_:1}))}},[["__scopeId","data-v-d7f43d1f"]]),Fe={__name:"voiceofcustomer",setup(e){const{height:l}=d();return(e,a)=>(U(),q(ue,{"min-height":O(l)-180,flat:"",class:"ma-0 pa-0",color:"rgba(0, 0, 0, 0)"},{default:H((()=>[i(Re)])),_:1},8,["min-height"]))}};export{Fe as default};
